{"version":3,"file":"Input.stories-aTpHjHKy.js","sources":["../../node_modules/lucide-react/dist/esm/icons/search.js","../../node_modules/lucide-react/dist/esm/icons/smile.js","../../node_modules/lucide-react/dist/esm/icons/x.js","../../src/components/ui/input/Input.tsx"],"sourcesContent":["/**\n * @license lucide-react v0.523.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"m21 21-4.34-4.34\", key: \"14j7rj\" }],\n  [\"circle\", { cx: \"11\", cy: \"11\", r: \"8\", key: \"4ej97u\" }]\n];\nconst Search = createLucideIcon(\"search\", __iconNode);\n\nexport { __iconNode, Search as default };\n//# sourceMappingURL=search.js.map\n","/**\n * @license lucide-react v0.523.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"10\", key: \"1mglay\" }],\n  [\"path\", { d: \"M8 14s1.5 2 4 2 4-2 4-2\", key: \"1y1vjs\" }],\n  [\"line\", { x1: \"9\", x2: \"9.01\", y1: \"9\", y2: \"9\", key: \"yxxnd0\" }],\n  [\"line\", { x1: \"15\", x2: \"15.01\", y1: \"9\", y2: \"9\", key: \"1p4y9e\" }]\n];\nconst Smile = createLucideIcon(\"smile\", __iconNode);\n\nexport { __iconNode, Smile as default };\n//# sourceMappingURL=smile.js.map\n","/**\n * @license lucide-react v0.523.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M18 6 6 18\", key: \"1bl5f8\" }],\n  [\"path\", { d: \"m6 6 12 12\", key: \"d8bk6v\" }]\n];\nconst X = createLucideIcon(\"x\", __iconNode);\n\nexport { __iconNode, X as default };\n//# sourceMappingURL=x.js.map\n","import React, { useEffect, useState } from \"react\";\nimport type { FieldHookConfig } from \"formik\";\nimport { useField } from \"formik\";\nimport classNames from \"classnames\";\nimport { X } from \"lucide-react\";\nimport type { InputProps } from \"./Input.interface\";\n\nexport const Input: React.FC<InputProps & FieldHookConfig<string>> = ({\n  label,\n  iconLeft,\n  iconRight,\n  className,\n  disabled,\n  suggestions = [],\n  tags = [],\n  onTagAdd,\n  onTagRemove,\n  onCustomTagAdd,\n  onSearch,\n  ...props\n}) => {\n  const [field, meta] = useField(props);\n  const hasError = !!meta.error && meta.touched;\n  const isDisabled = disabled ?? props.disabled ?? false;\n\n  const [query, setQuery] = useState(\"\");\n\n  // Trigger external search on input\n  useEffect(() => {\n    if (query.trim() && onSearch) {\n      onSearch(query.trim());\n    }\n  }, [query, onSearch]);\n\n  const handleEnter = async (e: React.KeyboardEvent<HTMLInputElement>) => {\n    if (e.key === \"Enter\" && query.trim()) {\n      e.preventDefault();\n\n      const trimmed = query.trim();\n      const matchedSuggestion = suggestions.find(\n        (s: string) => s.toLowerCase() === trimmed.toLowerCase()\n      );\n\n      if (matchedSuggestion) {\n        onTagAdd?.(matchedSuggestion);\n      } else {\n        await onCustomTagAdd?.(trimmed); // <-- e.g., POST to API\n        onTagAdd?.(trimmed); // <-- Add to UI list anyway\n      }\n\n      setQuery(\"\");\n    }\n  };\n\n  const baseInputClass =\n    \"flex-1 bg-transparent outline-none text-sm placeholder:text-gray-400\";\n\n  return (\n    <div className=\"flex flex-col gap-1 w-full\">\n      {label && (\n        <label className=\"text-sm font-medium text-gray-700\">{label}</label>\n      )}\n\n      {/* Input Field */}\n      <div\n        className={classNames(\n          \"flex items-center px-3 py-2 rounded-md border w-full bg-white text-sm transition\",\n          {\n            \"border-gray-300\": !hasError && !isDisabled,\n            \"border-red-500\": hasError,\n            \"border-gray-200 bg-gray-100 cursor-not-allowed\": isDisabled,\n            \"focus-within:border-primary focus-within:ring-1 focus-within:ring-primary\":\n              !hasError && !isDisabled,\n          },\n          className\n        )}\n      >\n        {iconLeft && <div className=\"mr-2 text-gray-400\">{iconLeft}</div>}\n\n        <input\n          {...field}\n          {...props}\n          disabled={isDisabled}\n          value={query}\n          onChange={(e) => {\n            setQuery(e.target.value);\n            field.onChange(e); // sync Formik\n          }}\n          onKeyDown={handleEnter}\n          className={baseInputClass}\n          placeholder={props.placeholder || \"Search or add\"}\n        />\n\n        {iconRight && <div className=\"ml-2 text-gray-400\">{iconRight}</div>}\n      </div>\n\n      {/* Suggestion Pills */}\n      {suggestions.length > 0 && (\n        <div className=\"border rounded-md p-2 bg-white flex flex-wrap gap-2 mt-1\">\n          {suggestions.map((tag: string) => (\n            <button\n              key={tag}\n              type=\"button\"\n              onClick={() => {\n                onTagAdd?.(tag);\n                setQuery(\"\");\n              }}\n              className=\"text-sm border border-primary/30 rounded-full px-3 py-1 hover:bg-primary/10 transition\"\n            >\n              {tag} <span className=\"ml-1 text-primary font-bold\">+</span>\n            </button>\n          ))}\n        </div>\n      )}\n\n      {/* Selected Tags */}\n      {tags.length > 0 && (\n        <div className=\"flex flex-wrap gap-2 mt-2\">\n          {tags.map((tag: string) => (\n            <span\n              key={tag}\n              className=\"flex items-center bg-primary/10 text-primary text-xs rounded-full px-2 py-1\"\n            >\n              {tag}\n              {onTagRemove && (\n                <button\n                  type=\"button\"\n                  onClick={() => onTagRemove(tag)}\n                  className=\"ml-1 hover:text-red-500\"\n                >\n                  <X className=\"w-3 h-3\" />\n                </button>\n              )}\n            </span>\n          ))}\n        </div>\n      )}\n\n      {/* Error Message */}\n      {hasError && (\n        <span className=\"text-xs text-red-500 mt-1\">{meta.error}</span>\n      )}\n    </div>\n  );\n};\n"],"names":["__iconNode","Search","createLucideIcon","Smile","X","Input","label","iconLeft","iconRight","className","disabled","suggestions","tags","onTagAdd","onTagRemove","onCustomTagAdd","onSearch","props","field","meta","useField","hasError","isDisabled","query","setQuery","useState","useEffect","handleEnter","e","trimmed","matchedSuggestion","s","jsxs","jsx","classNames","tag"],"mappings":"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","x_google_ignoreList":[0,1,2]}